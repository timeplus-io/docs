# 配置流生成器

Please check Load [sample streaming data](/ingestion#streamgen) for the overview of this data source.

## 示例配置

下面是流生成器配置json样本：

```json
{
                "batch_size": 1,
                "interval": 200,
                "fields": [
                    {
                        "name": "number",
                        "type": "int",
                        "limit": [
                            0,
                            10
                        ]
                    },
                    {
                        "name": "_time",
                        "type": "timestamp",
                        "timestamp_format": "2006-01-02 15:04:05.000"
                    }
                ]
            }
```

每个属性的用法：

| 字段名称   | 描述                         | 示例值    |
| ------ | -------------------------- | ------ |
| `批量大小` | 每次迭代需要生成多少批量               | `2`    |
| `间隔`   | 每次迭代之间以毫秒为单位的间隔            | `1000` |
| `区间差数` | 每次迭代间隔的随机增量                | `300`  |
| `计数`   | 要生成多少事件，如果设置了 `0` ，则事件没有限制 | `1000` |
| `字段`   | 字段定义列表                     |        |



对于  `字段`, 支持以下属性:



| 字段名称       | 描述                                                                       |
| ---------- | ------------------------------------------------------------------------ |
| `名称`       | 字段名称                                                                     |
| `类型`       | 生成的数据类型，支持 `时间戳`， `字符串`, `int`, `float`, `布尔`, `地图`, `数组`, `生成`, `regex` |
| `range`    | 可选的字符串、整数和浮点型变量，它是可以生成的值列表                                               |
| `限制`       | 对于整数和浮点型变量，一个包含两个值的列表指定生成数据的最小/最大值                                       |
| `时间戳格式`    | 可选的时间戳类型，遵循黄金时间字符串格式规则                                                   |
| `时间戳延迟最小值` | 最小时间戳延时 毫秒                                                               |
| `时间戳最大值`   | 时间戳的最大延迟时间（秒）                                                            |
| `规则`       | 如果 `类型` 是 `生成` 或 `正则表达式`                                                 |

## 时间戳

默认情况下，时间戳将生成为 int，单位时间戳是1970年以来毫秒内的时间。 如果指定 `时间戳格式` ，它将被生成为一个字符串，使用这个 `格式`。  详情参考 [此文档](https://www.geeksforgeeks.org/time-formatting-in-golang/)

## 正则表达式规则

如果字段类型设置为 `regex`, 生成的数据将基于 `rule` 字段中指定的正则表达式。

## 生成器规则

如果字段类型设置为 `生成器`， 生成的数据将基于 [gokeit](https://github.com/brianvoe/gofakeit)的生成规则，请参考 [的规则](https://pkg.go.dev/github.com/brianvoe/gofakeit/v6#example-Faker.Generate)
